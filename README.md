

### **README.md**

# 音乐下载器

一个简单的命令行工具，调用接口，从音乐平台搜索和下载歌曲。

-----

### **项目简介**

本项目是一个基于 Python 的命令行音乐下载器。它允许用户通过关键词搜索歌曲，从搜索结果中选择并下载高质量的音乐文件。项目采用了模块化设计，易于扩展和维护。

-----

### **主要功能**

  * **多音乐源支持**: 支持从网易云音乐和 QQ 音乐（需依赖上游 API）等平台搜索和下载。
  * **命令行交互式操作**: 通过简单的命令行参数启动，并在程序中进行歌曲选择。
  * **下载进度显示**: 集成 `tqdm` 库，提供直观的下载进度条。
  * **自动文件命名**: 自动将下载文件命名为“歌名 - 歌手名.mp3”。
  * **健壮的错误处理**: 能够处理网络请求失败、下载中断（`Ctrl+C`）等异常情况。

-----

### **安装**

1.  克隆项目仓库到本地：

    ```bash
    git clone https://github.com/ezhpry/PyMusicDL.git
    cd PyMusicDL
    ```

2.  安装项目所需的依赖库：

    ```bash
    pip install -r requirements.txt
    ```
    `requirements.txt` 文件内容：
    ```
    requests
    tqdm
    ```

-----

### **使用方法**

通过命令行运行 `main.py` 文件，并提供搜索关键词和音乐源。

#### **命令行参数**

  * `-w` 或 `--word`: **必需**，要搜索的歌曲名或关键词。
  * `-s` 或 `--source`: **必需**，音乐源。可选值为 `netease` 或 `tencent`。

#### **运行示例**

1.  在终端中执行以下命令，开始搜索歌曲：

    ```bash
    python main.py -w "晴天" -s tencent
    ```

2.  程序会展示搜索结果列表，然后提示你输入要下载的歌曲序号。

    ```
    正在搜索来自 tencent 的歌曲：晴天...

    搜索结果:
      1. 晴天 - 周杰伦
      2. 晴天 (Cover 周杰伦) - J.W.
      ...

    请输入要下载歌曲的序号：
    ```

3.  输入序号（例如 `1`），然后回车。程序将自动开始下载所选歌曲。

-----

### **项目结构**

```
.
├── src/
│   ├── main.py                    # 项目入口
│   ├── core/
│   │   ├── downloader.py          # 下载模块，含进度条
│   │   └── provider_factory.py    # 提供者工厂，用于动态选择音乐源
│   ├── providers/
│   │   ├── netease.py             # 网易云音乐接口实现
│   │   └── tencent.py             # QQ音乐接口实现
│   └── utils/
│       └── api_handler.py         # 统一的 API 请求处理
├── .gitignore
├── README.md
├── requirements.txt
└── ...
```
